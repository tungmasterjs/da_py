create database 4MEN_BARBERSHOP;
use 4MEN_BARBERSHOP;
create table Tho(
	ma_tho varchar(5) primary key,
    ten_tho varchar(50),
    sdt_tho varchar(13),
    so_nam_kinh_nghiem int
);
create table KhachHang(
	ma_kh varchar(7) primary key,
	ten_kh varchar(50),
    sdt_kh varchar(13),
    so_lan_den int,
    loai_kh enum('Thường','VIP')
);
create table DichVu(
	ma_dv varchar(5) primary key,
    ten_dv varchar(100),
    don_gia float
);
create table DatLich(
	ma_dl varchar(10) primary key,
    ten_kh varchar(50),
    sdt_kh varchar(13),
    ma_tho varchar(5),
    ma_dv varchar(5),
    thoi_gian_dat datetime
);
create table VatTu(
	ma_vt varchar(5) primary key,
    ten_vt varchar(50),
    so_luong_vt int
);
create table HoaDon(
	so_hd varchar(10) primary key,
    ma_kh varchar(7),
    sdt_kh varchar(13),
    ma_tho varchar(5),
    giam_gia int,
    tong_tien decimal(10,2),
    thoi_gian_tt datetime
);
create table ChiTietHoaDon(
	so_cthd varchar(10) primary key,
    so_hd varchar(10),
    ma_dv varchar(5),
    so_luong_dv int,
    don_gia float,
    thanh_tien float
);
create table user_acc(
	user_id varchar(50) primary key,
    user_name varchar(50),
    pass_word varchar(16),
    user_role varchar (30)
);

ALTER TABLE DatLich
ADD CONSTRAINT fk_datlich_tho FOREIGN KEY (ma_tho) REFERENCES Tho(ma_tho),
ADD CONSTRAINT fk_datlich_dichvu FOREIGN KEY (ma_dv) REFERENCES DichVu(ma_dv);
ALTER TABLE HoaDon
ADD CONSTRAINT fk_hoadon_khachhang FOREIGN KEY (ma_kh) REFERENCES KhachHang(ma_kh),
ADD CONSTRAINT fk_hoadon_tho FOREIGN KEY (ma_tho) REFERENCES Tho(ma_tho);
ALTER TABLE ChiTietHoaDon
ADD CONSTRAINT fk_chitiethoadon_hoadon FOREIGN KEY (so_hd) REFERENCES HoaDon(so_hd),
ADD CONSTRAINT fk_chitiethoadon_dichvu FOREIGN KEY (ma_dv) REFERENCES DichVu(ma_dv);

INSERT INTO tho (ma_tho, ten_tho, sdt_tho, so_nam_kinh_nghiem)
VALUES
('TH001', 'Nguyễn Văn Anh', '0123456789', 5),
('TH002', 'Trần Văn Bình', '0123456780', 3),
('TH003', 'Lê Văn Đức', '0123456701', 8),
('TH004', 'Phạm Văn Đông', '0123456702', 2),
('TH005', 'Hoàng Văn Hải', '0123456703', 6),
('TH006', 'Vũ Văn Hiếu', '0123456704', 4),
('TH007', 'Nguyễn Văn Hùng', '0123456705', 9),
('TH008', 'Trần Văn Lâm', '0123456706', 1),
('TH009', 'Lê Văn Long', '0123456707', 7),
('TH010', 'Phạm Văn Minh', '0123456708', 10);

INSERT INTO KhachHang (ma_kh, ten_kh, sdt_kh, so_lan_den, loai_kh)
VALUES
('KH00001','Nguyễn Văn A', '0123456001', 5, 'Thường'),
('KH00002','Trần Văn B', '0123456002', 3, 'Thường'),
('KH00003','Lê Văn C', '0123456003', 8, 'Thường'),
('KH00004','Phạm Văn D', '0123456004', 2, 'Thường'),
('KH00005','Hoàng Văn E', '0123456005', 6, 'Thường'),
('KH00006','Vũ Văn F', '0123456006', 4, 'Thường'),
('KH00007','Nguyễn Văn G', '0123456007', 9, 'Thường'),
('KH00008','Trần Văn H', '0123456008', 1, 'Thường'),
('KH00009','Lê Văn I', '0123456009', 7, 'Thường'),
('KH00010','Phạm Văn J', '0123456010', 10, 'VIP'),
('KH00011','Hoàng Văn K', '0123456011', 5, 'Thường'),
('KH00012','Vũ Văn L', '0123456012', 3, 'Thường'),
('KH00013','Nguyễn Văn M', '0123456013', 8, 'Thường'),
('KH00014','Trần Văn N', '0123456014', 2, 'Thường'),
('KH00015','Lê Văn O', '0123456015', 6, 'Thường'),
('KH00016','Phạm Văn P', '0123456016', 4, 'Thường'),
('KH00017','Hoàng Văn Q', '0123456017', 9, 'VIP'),
('KH00018','Vũ Văn R', '0123456018', 1, 'Thường'),
('KH00019','Nguyễn Văn S', '0123456019', 7, 'Thường'),
('KH00020','Trần Văn T', '0123456020', 10, 'VIP'),
('KH00021','Nguyễn Văn U', '0123456021', 15, 'VIP'),
('KH00022','Trần Văn V', '0123456022', 12, 'VIP'),
('KH00023','Lê Văn X', '0123456023', 11, 'VIP'),
('KH00024','Phạm Văn Y', '0123456024', 14, 'VIP'),
('KH00025','Hoàng Văn Z', '0123456025', 20, 'VIP'),
('KH00026','Vũ Văn W', '0123456026', 18, 'VIP'),
('KH00027','Nguyễn Thanh', '0123456027', 13, 'VIP'),
('KH00028','Trần Thịnh', '0123456028', 16, 'VIP');



INSERT INTO DichVu (ma_dv, ten_dv, don_gia)
VALUES
('DV001', 'Cắt tóc cơ bản', 100000),
('DV002', 'Cắt tóc phong cách', 150000),
('DV003', 'Cạo râu cơ bản', 50000),
('DV004', 'Cạo râu phong cách', 80000),
('DV005', 'Gội đầu', 70000),
('DV006', 'Nhuộm tóc', 200000),
('DV007', 'Dưỡng tóc', 120000),
('DV008', 'Hấp dầu', 90000),
('DV009', 'Duỗi tóc', 250000),
('DV010', 'Cắt tóc trẻ em', 120000);

INSERT INTO VatTu (ma_vt, ten_vt, so_luong_vt)
VALUES
('VT001', 'Kéo', 10),
('VT002', 'Bàn chải', 15),
('VT003', 'Gương', 20),
('VT004', 'Bàn làm việc', 5),
('VT005', 'Ghế cắt tóc', 8),
('VT006', 'Kệ để đồ', 12),
('VT007', 'Bình xịt nước', 10),
('VT008', 'Bộ lau chùi', 10),
('VT009', 'Thuốc nhuộm', 20),
('VT010', 'Dụng cụ duỗi đồ', 10),
('VT011', 'Tông đơ cắt tóc', 15),
('VT012', 'Tông đơ cạo râu', 15),
('VT013', 'Tông đơ cắt viền', 10);

INSERT INTO user_acc (user_id, user_name, pass_word, user_role)
VALUES
('admin','Admin','admin','Admin');

INSERT INTO HoaDon (so_hd, ma_kh, sdt_kh, ma_tho, giam_gia, tong_tien, thoi_gian_tt)
VALUES
('HD001','KH00001', '0123456001', 'TH001',0, 150000, '2024-04-01 08:30:00'),
('HD002','KH00002', '0123456002', 'TH002',0, 250000, '2024-04-02 10:45:00'),
('HD003','KH00003', '0123456003', 'TH003',0, 200000, '2024-04-03 12:00:00'),
('HD004','KH00004', '0123456004', 'TH004',0, 100000, '2024-04-04 13:15:00'),
('HD005','KH00005', '0123456005', 'TH005',0, 300000, '2024-04-05 14:30:00'),
('HD006','KH00006', '0123456006', 'TH006',0, 180000, '2024-04-06 16:45:00'),
('HD007','KH00007', '0123456007', 'TH007',0, 220000, '2024-04-07 18:00:00'),
('HD008','KH00008', '0123456008', 'TH008',0, 260000, '2024-04-08 08:15:00'),
('HD009','KH00009', '0123456009', 'TH009',0, 320000, '2024-04-09 09:30:00'),
('HD010','KH00010', '0123456010', 'TH010',0, 280000, '2024-04-10 10:45:00'),
('HD011', 'KH00011', '0123456011', 'TH009', 0, 230000, '2024-05-15 09:30:00'),
('HD012', 'KH00012', '0123456012', 'TH008', 0, 210000, '2024-05-16 10:45:00'),
('HD013', 'KH00013', '0123456013', 'TH008', 0, 250000, '2024-05-17 11:00:00'),
('HD014', 'KH00014', '0123456014', 'TH004', 0, 270000, '2024-05-18 12:15:00'),
('HD015', 'KH00015', '0123456015', 'TH003', 0, 240000, '2024-05-19 13:30:00'),
('HD016', 'KH00016', '0123456016', 'TH001', 0, 260000, '2024-05-20 14:45:00'),
('HD017', 'KH00017', '0123456017', 'TH010', 0, 280000, '2024-05-21 15:00:00'),
('HD018', 'KH00018', '0123456018', 'TH009', 0, 220000, '2024-05-22 16:15:00'),
('HD019', 'KH00019', '0123456019', 'TH005', 0, 290000, '2024-05-23 17:30:00'),
('HD020', 'KH00020', '0123456020', 'TH004', 0, 300000, '2024-05-24 18:45:00'),
('HD021', 'KH00019', '0123456021', 'TH003', 0, 280000, '2024-05-25 08:30:00'),
('HD022', 'KH00014', '0123456022', 'TH002', 0, 260000, '2024-05-26 09:45:00'),
('HD023', 'KH00013', '0123456023', 'TH001', 0, 270000, '2024-05-27 10:00:00'),
('HD024', 'KH00012', '0123456024', 'TH005', 0, 220000, '2024-05-28 11:15:00'),
('HD025', 'KH00012', '0123456025', 'TH010', 0, 250000, '2024-05-29 12:30:00'),
('HD026', 'KH00014', '0123456026', 'TH009', 0, 240000, '2024-05-30 13:45:00'),
('HD027', 'KH00009', '0123456027', 'TH008', 0, 300000, '2024-05-31 14:00:00'),
('HD028', 'KH00007', '0123456028', 'TH008', 0, 220000, '2024-06-01 15:15:00'),
('HD029', 'KH00005', '0123456029', 'TH004', 0, 280000, '2024-06-02 16:30:00'),
('HD030', 'KH00003', '0123456030', 'TH003', 0, 290000, '2024-06-03 17:45:00'),
('HD031', 'KH00001', '0123456001', 'TH001', 0, 150000, '2024-03-01 09:30:00'),
('HD032', 'KH00002', '0123456002', 'TH002', 0, 200000, '2024-03-02 10:00:00'),
('HD033', 'KH00003', '0123456003', 'TH003', 0, 180000, '2024-03-03 11:30:00'),
('HD034', 'KH00004', '0123456004', 'TH004', 0, 220000, '2024-03-04 14:00:00'),
('HD035', 'KH00005', '0123456005', 'TH005', 0, 160000, '2024-03-05 15:30:00'),
('HD036', 'KH00006', '0123456006', 'TH006', 0, 240000, '2024-03-06 16:00:00'),
('HD037', 'KH00007', '0123456007', 'TH007', 0, 180000, '2024-03-07 17:30:00'),
('HD038', 'KH00008', '0123456008', 'TH008', 0, 300000, '2024-03-08 18:00:00'),
('HD039', 'KH00009', '0123456009', 'TH009', 0, 250000, '2024-03-09 08:30:00'),
('HD040', 'KH00010', '0123456010', 'TH010', 0, 220000, '2024-03-10 09:00:00'),
('HD041', 'KH00011', '0123456011', 'TH001', 0, 200000, '2024-03-11 10:30:00'),
('HD042', 'KH00012', '0123456012', 'TH002', 0, 270000, '2024-03-12 11:00:00'),
('HD043', 'KH00013', '0123456013', 'TH003', 0, 150000, '2024-03-13 12:30:00'),
('HD044', 'KH00014', '0123456014', 'TH004', 0, 210000, '2024-03-14 14:00:00'),
('HD045', 'KH00015', '0123456015', 'TH005', 0, 190000, '2024-03-15 15:30:00'),
('HD046', 'KH00016', '0123456016', 'TH006', 0, 280000, '2024-03-16 16:00:00'),
('HD047', 'KH00017', '0123456017', 'TH007', 0, 300000, '2024-03-17 17:30:00'),
('HD048', 'KH00018', '0123456018', 'TH008', 0, 150000, '2024-03-18 18:00:00'),
('HD049', 'KH00019', '0123456019', 'TH009', 0, 260000, '2024-03-19 08:30:00'),
('HD050', 'KH00020', '0123456020', 'TH010', 0, 240000, '2024-03-20 09:00:00'),
('HD051', 'KH00001', '0123456001', 'TH001', 0, 200000, '2024-02-01 08:30:00'),
('HD052', 'KH00002', '0123456002', 'TH002', 0, 220000, '2024-02-02 10:00:00'),
('HD053', 'KH00003', '0123456003', 'TH003', 0, 180000, '2024-02-03 11:15:00'),
('HD054', 'KH00004', '0123456004', 'TH004', 0, 240000, '2024-02-04 13:00:00'),
('HD055', 'KH00005', '0123456005', 'TH005', 0, 250000, '2024-02-05 14:30:00'),
('HD056', 'KH00006', '0123456006', 'TH006', 0, 170000, '2024-02-06 16:00:00'),
('HD057', 'KH00007', '0123456007', 'TH007', 0, 280000, '2024-02-07 17:45:00'),
('HD058', 'KH00008', '0123456008', 'TH008', 0, 230000, '2024-02-08 09:15:00'),
('HD059', 'KH00009', '0123456009', 'TH009', 0, 260000, '2024-02-09 10:30:00'),
('HD060', 'KH00010', '0123456010', 'TH010', 0, 190000, '2024-02-10 11:45:00');


INSERT INTO ChiTietHoaDon (so_cthd, so_hd, ma_dv, so_luong_dv, don_gia, thanh_tien)
VALUES
('CTHD001', 'HD001', 'DV001', 1, 100000, 100000),
('CTHD002', 'HD001', 'DV002', 1, 150000, 150000),
('CTHD003', 'HD002', 'DV003', 2, 50000, 100000),
('CTHD004', 'HD002', 'DV005', 1, 70000, 70000),
('CTHD005', 'HD003', 'DV001', 1, 100000, 100000),
('CTHD006', 'HD003', 'DV003', 1, 50000, 50000),
('CTHD007', 'HD004', 'DV002', 1, 150000, 150000),
('CTHD008', 'HD004', 'DV005', 1, 70000, 70000),
('CTHD009', 'HD005', 'DV001', 2, 100000, 200000),
('CTHD010', 'HD005', 'DV002', 1, 150000, 150000),
('CTHD011', 'HD006', 'DV001', 1, 100000, 100000),
('CTHD012', 'HD006', 'DV004', 1, 80000, 80000),
('CTHD013', 'HD007', 'DV002', 1, 150000, 150000),
('CTHD014', 'HD007', 'DV003', 1, 50000, 50000),
('CTHD015', 'HD008', 'DV001', 2, 100000, 200000),
('CTHD016', 'HD008', 'DV002', 1, 150000, 150000),
('CTHD017', 'HD009', 'DV001', 1, 100000, 100000),
('CTHD018', 'HD009', 'DV004', 1, 80000, 80000),
('CTHD019', 'HD010', 'DV002', 1, 150000, 150000),
('CTHD020', 'HD010', 'DV003', 1, 50000, 50000),
('CTHD021', 'HD011', 'DV001', 1, 100000, 100000),
('CTHD022', 'HD011', 'DV002', 1, 150000, 150000),
('CTHD023', 'HD012', 'DV003', 2, 50000, 100000),
('CTHD024', 'HD012', 'DV005', 1, 70000, 70000),
('CTHD025', 'HD013', 'DV001', 1, 100000, 100000),
('CTHD026', 'HD013', 'DV003', 1, 50000, 50000),
('CTHD027', 'HD014', 'DV002', 1, 150000, 150000),
('CTHD028', 'HD014', 'DV005', 1, 70000, 70000),
('CTHD029', 'HD015', 'DV001', 2, 100000, 200000),
('CTHD030', 'HD015', 'DV002', 1, 150000, 150000),
('CTHD031', 'HD016', 'DV001', 1, 100000, 100000),
('CTHD032', 'HD016', 'DV004', 1, 80000, 80000),
('CTHD033', 'HD017', 'DV002', 1, 150000, 150000),
('CTHD034', 'HD017', 'DV003', 1, 50000, 50000),
('CTHD035', 'HD018', 'DV001', 2, 100000, 200000),
('CTHD036', 'HD018', 'DV002', 1, 150000, 150000),
('CTHD037', 'HD019', 'DV001', 1, 100000, 100000),
('CTHD038', 'HD019', 'DV004', 1, 80000, 80000),
('CTHD039', 'HD020', 'DV002', 1, 150000, 150000),
('CTHD040', 'HD020', 'DV003', 1, 50000, 50000),
('CTHD041', 'HD021', 'DV001', 1, 100000, 100000),
('CTHD042', 'HD021', 'DV002', 1, 150000, 150000),
('CTHD043', 'HD022', 'DV003', 2, 50000, 100000),
('CTHD044', 'HD022', 'DV005', 1, 70000, 70000),
('CTHD045', 'HD023', 'DV001', 1, 100000, 100000),
('CTHD046', 'HD023', 'DV003', 1, 50000, 50000),
('CTHD047', 'HD024', 'DV002', 1, 150000, 150000),
('CTHD048', 'HD024', 'DV005', 1, 70000, 70000),
('CTHD049', 'HD025', 'DV001', 2, 100000, 200000),
('CTHD050', 'HD025', 'DV002', 1, 150000, 150000),
('CTHD051', 'HD026', 'DV001', 1, 100000, 100000),
('CTHD052', 'HD026', 'DV004', 1, 80000, 80000),
('CTHD053', 'HD027', 'DV002', 1, 150000, 150000),
('CTHD054', 'HD027', 'DV003', 1, 50000, 50000),
('CTHD055', 'HD028', 'DV001', 2, 100000, 200000),
('CTHD056', 'HD028', 'DV002', 1, 150000, 150000),
('CTHD057', 'HD029', 'DV001', 1, 100000, 100000),
('CTHD058', 'HD029', 'DV004', 1, 80000, 80000),
('CTHD059', 'HD030', 'DV002', 1, 150000, 150000),
('CTHD060', 'HD030', 'DV003', 1, 50000, 50000),
('CTHD061', 'HD031', 'DV001', 1, 100000, 100000),
('CTHD062', 'HD031', 'DV002', 1, 150000, 150000),
('CTHD063', 'HD032', 'DV003', 2, 50000, 100000),
('CTHD064', 'HD032', 'DV005', 1, 100000, 100000),
('CTHD065', 'HD033', 'DV001', 1, 100000, 100000),
('CTHD066', 'HD033', 'DV003', 1, 80000, 80000),
('CTHD067', 'HD034', 'DV002', 1, 150000, 150000),
('CTHD068', 'HD034', 'DV005', 1, 70000, 70000),
('CTHD069', 'HD035', 'DV001', 2, 100000, 200000),
('CTHD070', 'HD035', 'DV002', 1, 150000, 150000),
('CTHD071', 'HD036', 'DV001', 1, 100000, 100000),
('CTHD072', 'HD036', 'DV004', 1, 140000, 140000),
('CTHD073', 'HD037', 'DV002', 1, 150000, 150000),
('CTHD074', 'HD037', 'DV003', 1, 30000, 30000),
('CTHD075', 'HD038', 'DV001', 2, 150000, 300000),
('CTHD076', 'HD038', 'DV002', 1, 150000, 150000),
('CTHD077', 'HD039', 'DV001', 1, 100000, 100000),
('CTHD078', 'HD039', 'DV004', 1, 150000, 150000),
('CTHD079', 'HD040', 'DV002', 1, 150000, 150000),
('CTHD080', 'HD040', 'DV003', 1, 90000, 90000),
('CTHD081', 'HD041', 'DV001', 1, 100000, 100000),
('CTHD082', 'HD041', 'DV002', 1, 100000, 100000),
('CTHD083', 'HD042', 'DV001', 2, 100000, 200000),
('CTHD084', 'HD042', 'DV005', 1, 70000, 70000),
('CTHD085', 'HD043', 'DV001', 1, 150000, 150000),
('CTHD086', 'HD043', 'DV003', 1, 30000, 30000),
('CTHD087', 'HD044', 'DV002', 1, 200000, 200000),
('CTHD088', 'HD044', 'DV004', 1, 10000, 10000),
('CTHD089', 'HD045', 'DV001', 2, 150000, 300000),
('CTHD090', 'HD045', 'DV002', 1, 90000, 90000),
('CTHD091', 'HD046', 'DV001', 1, 150000, 150000),
('CTHD092', 'HD046', 'DV003', 1, 130000, 130000),
('CTHD093', 'HD047', 'DV002', 1, 100000, 100000),
('CTHD094', 'HD047', 'DV005', 1, 200000, 200000),
('CTHD095', 'HD048', 'DV001', 2, 80000, 160000),
('CTHD096', 'HD048', 'DV003', 1, 150000, 150000),
('CTHD097', 'HD049', 'DV001', 1, 100000, 100000),
('CTHD098', 'HD049', 'DV004', 1, 160000, 160000),
('CTHD099', 'HD050', 'DV002', 1, 130000, 130000),
('CTHD100', 'HD050', 'DV005', 1, 110000, 110000),
('CTHD101', 'HD051', 'DV001', 1, 100000, 100000),
('CTHD102', 'HD051', 'DV002', 1, 100000, 100000),
('CTHD103', 'HD052', 'DV003', 2, 50000, 100000),
('CTHD104', 'HD052', 'DV005', 1, 120000, 120000),
('CTHD105', 'HD053', 'DV001', 1, 100000, 100000),
('CTHD106', 'HD053', 'DV003', 1, 80000, 80000),
('CTHD107', 'HD054', 'DV002', 1, 150000, 150000),
('CTHD108', 'HD054', 'DV005', 1, 90000, 90000),
('CTHD109', 'HD055', 'DV001', 2, 125000, 250000),
('CTHD110', 'HD056', 'DV001', 1, 100000, 100000),
('CTHD111', 'HD056', 'DV004', 1, 70000, 70000),
('CTHD112', 'HD057', 'DV002', 1, 150000, 150000),
('CTHD113', 'HD057', 'DV003', 1, 130000, 130000),
('CTHD114', 'HD058', 'DV001', 2, 115000, 230000),
('CTHD115', 'HD059', 'DV001', 1, 100000, 100000),
('CTHD116', 'HD059', 'DV004', 1, 160000, 160000),
('CTHD117', 'HD060', 'DV002', 1, 150000, 150000),
('CTHD118', 'HD060', 'DV003', 1, 40000, 40000);

INSERT INTO DatLich (ma_dl, ten_kh, sdt_kh, ma_tho, ma_dv, thoi_gian_dat)
VALUES
('DL001','Nguyễn Văn A', '0123456001', 'TH001', 'DV001', '2024-04-01 08:30:00'),
('DL002','Trần Văn B', '0123456002', 'TH002', 'DV002', '2024-04-02 10:45:00'),
('DL003','Lê Văn C', '0123456003', 'TH003', 'DV003', '2024-04-03 12:00:00'),
('DL004','Phạm Văn D', '0123456004', 'TH004', 'DV004', '2024-04-04 13:15:00'),
('DL005','Hoàng Văn E', '0123456005', 'TH005', 'DV005', '2024-04-05 14:30:00'),
('DL006','Vũ Văn F', '0123456006', 'TH006', 'DV006', '2024-04-06 16:45:00'),
('DL007','Nguyễn Văn G', '0123456007', 'TH007', 'DV007', '2024-04-07 18:00:00'),
('DL008','Lê Văn I', '0123456008', 'TH008', 'DV008', '2024-04-08 08:15:00'),
('DL009','Phạm Văn J', '0123456009', 'TH009', 'DV009', '2024-04-09 09:30:00'),
('DL010','Hoàng Văn K', '0123456010', 'TH010', 'DV010', '2024-04-10 10:45:00');


